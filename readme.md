## 抽卡仿真器

## 宗旨

合理抽卡、避免上头!




## 使用方法

1. 根据以下配置方式（可参考根目录下的`例子.json`）, 新建或使用之前建立的配置文件
2. 在根目录输入`python main.py 你想要的.json`
3. 等待数据跑完，如出现了任何错误请重新审阅配置文件是否配置完备，再不行请发issue。
4. 结果一般类似于如下图，有文字及分布直方图（直方图中间有时会出现断崖式空隙，属于bug）。
![图片](https://i.loli.net/2021/01/23/M4PwJT6qhl7kEZN.png)

## 配置

```json
文件格式：x.json
{
    "cards":{
        "a": 概率（小数形式）,  // a不得包含and or not ( )
        "b": p,
        ...
    },
    "target":"a and ( b or not c )", // 任何两个部分之间必须要有空格, 使用半角括号
    "mode": [一次几连抽, 仿真总次数]
    "groups": {
        "group1": ["a",...],
        ...
    }
    "limits":[
        [保底抽数,保底group,保底类型(随机 1 |未获取(默认采用最优策略选择概率最小的) 2),若提前取得是否会重置(当抽出保底卡后，是否重置保底 1 抽出后立刻重置count（幻书启示录） 2 抽出后不重置count，但不再触发（pcr 二星保底） 3 无（pcr 井）),保底方式（替换 1|附加 2）],
        # 保底类型为2时，系统默认玩家以抽齐为策略。例如克总（0.35%）、春田（0.7%）双保底时，若一井内都没出，则优先选择克总（次数期望最优）
        # 一个保底被触发且给出保底方式为1时，将不触发剩下的保底给出方式为1的保底，防止浪费保底，所以请把优先度高的放在上面
        # pcr十连保底例子 因为pcr十连采用改正概率的模式，所以用此模拟会有误差
        [10,"二星及三星",1,2,1]
        # pcr井
        [300, "pick up",2,3,2]
        ...
    ]
}
```

## 实例

pcr 三星双up保底

```json
{
    "cards":{
        "春田": 0.007,
        "克总": 0.0035,
        "二星": 0.18
    },
    "target":"春田 and 克总",
    "mode": [10, 100000],
    "groups": {
        "pick up": ["春田","克总"],
        "二星": ["二星"]
    },
    "limits":[
        [300, "pick up",2,3,2]
    ]
}
```

